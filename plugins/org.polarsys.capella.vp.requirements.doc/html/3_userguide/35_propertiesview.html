<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--
  Copyright (c) 2016, 2017 THALES GLOBAL SERVICES.
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the Eclipse Public License v1.0
  which accompanies this distribution, and is available at
  http://www.eclipse.org/legal/epl-v10.html

  Contributors:
       Thales - initial API and implementation
-->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<link rel="stylesheet" type="text/css" href="PLUGINS_ROOT/org.polarsys.capella.vp.requirements.doc/html/styles.css" media="all"/>
	<title>Properties View</title>
</head>
<style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
    padding: 5px;
}
</style>
<body>
<h1>Requirement Allocation Views</h1>

<p>
Requirement allocation views should allow to specify :
<ul>
	<li>relations between Requirements and Capella elements</li>
	<li>relations between Requirements themselves (feature coming from ReqIf known as internal relation)</li>
</u>
 Respectively, there are two Property views dedicated for these purposes: The Requirements Allocation view and the Internal Requirements Allocation view. 
</p>

<h2>Requirements Allocation</h2>
<p>The Requirements Allocation view shows all incoming and outgoing relations for an element. This element could be a Requirement, a Capella element or a Diagram. The addition of a relation can be done in three steps as demonstrated with the following example</p>

<ul>
<li><p>Click on the Plus button to show target elements</p></li>
<img src="../../images/Allocation_Step1.png" alt="Requirements Allocation Step 1" title="Click on the Plus button to show target elements"/>
</br>
<li><p>Select multiple elements to which we want to create relations</p></li>
<img src="../../images/Allocation_Step2.png" alt="Requirements Allocation Step 2" title="Select multiple elements to which we will create relations"/>
</br>
</br>
<li><p>Choose the Relation Type of each added relation (available Relation types are those imported or created in the current architecture level and all upper levels of the current model, Relation types of referenced libraries are not available. See &quot;Add new relation types&quot; part for more details on Relation types creation)</p></li>
<img src="../../images/Allocation_Step3.png" alt="Requirements Allocation Step 3" title="Choose the Relation Type of each added relation"/>
</br>

<br/>
<h2>Internal Requirements Allocation</h2>
<p>The Internal Requirements Allocation view shows all relations coming from one Requirement to another Requirement.</p>
<img src="../../images/InternalAllocation_Step1.png" alt="Internal Requirements Allocation View" title="Internal Requirements Allocation View"/>
</br>
<p>Multiple Requirements can be chosen to create new Relations</p>
<img src="../../images/InternalAllocation_Step2.png" alt="Internal Requirements Allocation Wizard" title="Internal Requirements Allocation Wizard"/>
</br>

<p>
Technically, relations are stored under the source element of the relation. Also note that relations are technical elements and they are filtered by default. In order to see relations in Capella project explorer, the default filter must be deactivated. Following is an example of Requirements and their relations to/from Capella Elements:
</p>

<img src="../../images/requirement_example.png" alt="Requirements Example" title="Requirements Example"/>

<h2>Relations between elements stored in different layers</h2>
Certain rules are applied when creating relations between Requirements and Capella elements (and vice versa), especially when they are stored in different layers. In general, a relation is valid if its target comes from the same layer or another upper layer than its source. Therefore,
<ol>
<li>For outgoing links, target elements are limited to those stored in the current layer and the upper ones</li>
<li>For incoming links, source elements are limited to those stored in the current layer and the lower ones</li>
<li>For internal links, target elements are limited to those stored in the current layer and the upper ones</li>
</ol>
<p><i>Some limitations should be noted for Libraries (see the suitable part of <a href="PLUGINS_ROOT/org.polarsys.capella.vp.requirements.doc/html/4_knownissues/4.1_limitations.html">Limitations</a> section).</i></p>
</br>

The following is an example of creating different types of relations from a Requirement.
<ul>
<li>For a Requirement stored at System Analysis layer, available <b>target elements</b> for an outgoing link can only come from System Analysis layer and upper ones (Operational Analysis)</li>
<img src="../../images/AllocationQueries_Step1.png" alt="Allocation Queries Step 1" title="Creating outgoing links"/>
</br>
<li>Available <b>source elements</b> for an incoming link can only come from System Analysis layer and lower ones (Logical Architecture, Physical Architecture and EPBS Architecture)</li>
<img src="../../images/AllocationQueries_Step2.png" alt="Allocation Queries Step 2" title="Creating incoming links"/>
</br>
<li>Similarly, available <b>target elements</b> for an internal link can only come from System Analysis layer and upper ones</li>
<img src="../../images/AllocationQueries_Step3.png" alt="Allocation Queries Step 3" title="Creating internal links"/>
</br>
</ul>
</body>
</html>